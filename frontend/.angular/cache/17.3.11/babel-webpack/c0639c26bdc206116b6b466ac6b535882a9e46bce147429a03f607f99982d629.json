{"ast":null,"code":"import { CommonModule } from '@angular/common';\n// Importar todos los componentes hijos\nimport { UploadComponent } from './components/upload/upload.component';\nimport { PreviewComponent } from './components/preview/preview.component';\nimport { EmployeesListComponent } from './components/employees-list/employees-list.component';\nimport { StatisticsComponent } from './components/statistics/statistics.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction AppComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"app-upload\", 11);\n    i0.ɵɵlistener(\"fileValidated\", function AppComponent_div_26_Template_app_upload_fileValidated_1_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onFileValidated($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AppComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"app-preview\", 12);\n    i0.ɵɵlistener(\"sheetsSelected\", function AppComponent_div_27_Template_app_preview_sheetsSelected_1_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onSheetsSelected($event));\n    })(\"importComplete\", function AppComponent_div_27_Template_app_preview_importComplete_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onImportComplete());\n    })(\"backToUpload\", function AppComponent_div_27_Template_app_preview_backToUpload_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.resetUpload());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"validationResult\", ctx_r1.validationResult)(\"file\", ctx_r1.fileContent);\n  }\n}\nfunction AppComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 13)(2, \"h2\");\n    i0.ɵɵtext(3, \"\\u2705 Datos Importados Exitosamente\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_28_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.resetUpload());\n    });\n    i0.ɵɵtext(5, \" \\uD83D\\uDD04 Nueva Importaci\\u00F3n \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(6, \"app-employees-list\", 15)(7, \"app-statistics\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"refresh\", ctx_r1.showEmployees);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"refresh\", ctx_r1.showEmployees);\n  }\n}\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor() {\n      this.title = 'Sistema de Gestión de Nómina';\n      // Estados del flujo\n      this.currentStep = 'upload';\n      // Datos compartidos entre componentes\n      this.validationResult = null;\n      this.fileContent = null;\n      this.selectedSheets = [];\n      this.showEmployees = false;\n    }\n    /**\n     * Manejador del evento de validación del archivo\n     * CORRECCIÓN: Tipar correctamente el parámetro\n     */\n    onFileValidated(event) {\n      console.log('Archivo validado:', event);\n      this.validationResult = event.validation;\n      this.fileContent = event.file;\n      this.currentStep = 'preview';\n    }\n    /**\n     * Manejador de selección de hojas\n     */\n    onSheetsSelected(sheets) {\n      console.log('Hojas seleccionadas:', sheets);\n      this.selectedSheets = sheets;\n    }\n    /**\n     * Manejador de importación completada\n     */\n    onImportComplete() {\n      console.log('Importación completada');\n      this.currentStep = 'view';\n      this.showEmployees = true;\n      // Forzar actualización\n      setTimeout(() => {\n        this.showEmployees = false;\n        setTimeout(() => {\n          this.showEmployees = true;\n        }, 50);\n      }, 100);\n    }\n    /**\n     * Resetea el flujo para una nueva importación\n     */\n    resetUpload() {\n      this.currentStep = 'upload';\n      this.validationResult = null;\n      this.fileContent = null;\n      this.selectedSheets = [];\n      this.showEmployees = false;\n    }\n    static {\n      this.ɵfac = function AppComponent_Factory(t) {\n        return new (t || AppComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AppComponent,\n        selectors: [[\"app-root\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 29,\n        vars: 17,\n        consts: [[1, \"container\"], [1, \"header\", \"fade-in\"], [1, \"header-content\"], [1, \"steps-container\", \"slide-up\"], [1, \"step\"], [1, \"step-number\"], [1, \"step-label\"], [1, \"step-line\"], [1, \"content-area\"], [\"class\", \"slide-up\", 4, \"ngIf\"], [1, \"slide-up\"], [3, \"fileValidated\"], [3, \"sheetsSelected\", \"importComplete\", \"backToUpload\", \"validationResult\", \"file\"], [1, \"results-header\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [3, \"refresh\"]],\n        template: function AppComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"header\", 1)(2, \"div\", 2)(3, \"h1\");\n            i0.ɵɵtext(4, \"\\uD83D\\uDCBC Sistema de Gesti\\u00F3n de N\\u00F3mina\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"p\");\n            i0.ɵɵtext(6, \"Importaci\\u00F3n y gesti\\u00F3n de empleados desde Excel\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(7, \"div\", 3)(8, \"div\", 4)(9, \"div\", 5);\n            i0.ɵɵtext(10, \"1\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"div\", 6);\n            i0.ɵɵtext(12, \"Cargar Archivo\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(13, \"div\", 7);\n            i0.ɵɵelementStart(14, \"div\", 4)(15, \"div\", 5);\n            i0.ɵɵtext(16, \"2\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(17, \"div\", 6);\n            i0.ɵɵtext(18, \"Previsualizar\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(19, \"div\", 7);\n            i0.ɵɵelementStart(20, \"div\", 4)(21, \"div\", 5);\n            i0.ɵɵtext(22, \"3\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"div\", 6);\n            i0.ɵɵtext(24, \"Ver Resultados\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(25, \"div\", 8);\n            i0.ɵɵtemplate(26, AppComponent_div_26_Template, 2, 0, \"div\", 9)(27, AppComponent_div_27_Template, 2, 2, \"div\", 9)(28, AppComponent_div_28_Template, 8, 2, \"div\", 9);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(8);\n            i0.ɵɵclassProp(\"active\", ctx.currentStep === \"upload\")(\"completed\", ctx.currentStep === \"preview\" || ctx.currentStep === \"view\");\n            i0.ɵɵadvance(5);\n            i0.ɵɵclassProp(\"completed\", ctx.currentStep === \"preview\" || ctx.currentStep === \"view\");\n            i0.ɵɵadvance();\n            i0.ɵɵclassProp(\"active\", ctx.currentStep === \"preview\")(\"completed\", ctx.currentStep === \"view\");\n            i0.ɵɵadvance(5);\n            i0.ɵɵclassProp(\"completed\", ctx.currentStep === \"view\");\n            i0.ɵɵadvance();\n            i0.ɵɵclassProp(\"active\", ctx.currentStep === \"view\");\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngIf\", ctx.currentStep === \"upload\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.currentStep === \"preview\" && ctx.validationResult && ctx.fileContent);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.currentStep === \"view\");\n          }\n        },\n        dependencies: [CommonModule, i1.NgIf, UploadComponent, PreviewComponent, EmployeesListComponent, StatisticsComponent],\n        styles: [\".header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem;padding:2rem;background:#fff;border-radius:var(--border-radius);box-shadow:var(--shadow-lg)}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,var(--secondary-color) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.5rem}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.125rem}.steps-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:3rem;padding:2rem;background:#fff;border-radius:var(--border-radius);box-shadow:var(--shadow-md)}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.step-number[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:var(--border-color);color:var(--text-light);display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1.25rem;transition:all var(--transition-normal)}.step.active[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,var(--secondary-color) 100%);color:#fff;transform:scale(1.1)}.step.completed[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:var(--success-color);color:#fff}.step-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--text-secondary)}.step.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600}.step-line[_ngcontent-%COMP%]{width:100px;height:3px;background:var(--border-color);transition:background var(--transition-normal)}.step-line.completed[_ngcontent-%COMP%]{background:var(--success-color)}.content-area[_ngcontent-%COMP%]{min-height:400px}.results-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:1.5rem;background:#fff;border-radius:var(--border-radius);box-shadow:var(--shadow-md)}.results-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--success-color)}@media (max-width: 768px){.steps-container[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.step-line[_ngcontent-%COMP%]{width:3px;height:40px}.results-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}\"]\n      });\n    }\n  }\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}